# 第三周任务

相机是视觉组最常接触到的设备，本周内容主要与普通工业相机的使用相关。相机标定相关理论知识中包含部分线性代数基本知识，主要与坐标系变换有关，如果没有学过线代建议简单学一下。

[toc]

---

## 一、OpenCV 学习

继续学习[官方教程](http://www.opencv.org.cn/opencvdoc/2.3.2/html/doc/tutorials/tutorials.html "中文版")，重点内容包括但不限于

- 第三章 图像处理
  - 自定义线性滤波器
- 第四章 highgui
  - 视频
- 第五章 相机标定

---

## 二、相机标定

由于相机成像过程中光线通过凸透镜产生扭曲，将导致接收到的图像产生固定的变形。相机标定即通过特定的算法将扭曲的图像恢复原状。编译安装 OpenCV 时生成的 example 中即带有 calibration.cpp 标定示例程序

要求掌握相机标定的基本原理并尝试 OpenCV 标定例程

[相机参考教程](https://blog.csdn.net/dcrmg/article/details/52939318)

建议时长：4 小时

---

## 三、单目测距

工具：使用 C++、OpenCV 与 CMake 完成

要求：使用一张仅含一个大小已知的黑色色块的纸作为参照，将其摆放在地上，用相机在不同高度拍照，输入程序。输入程序的只有一张图片，图片的高度未知。程序使用 OpenCV 中的`solvePNP`等函数来测量目标相对于相机的三维坐标并计算直线距离。

命名：工程文件夹命名为 `task2`；可执行文件命名为 `task2`

程序运行方式：`./task2 block.jpg`

程序输出： 

1. 弹出对待测目标用宽度为 5 的轮廓包围的识别效果图，要求轮廓颜色清晰可见，并在框选区域左上角标注出测量出来的距离。 
2. 命令行打印出识别结果，格式如下：`距离：%.2d cm`

思考：影响测量精度的因素可能有哪些?  

测试数据说明：可以使用手机相机自行拍照制作测试数据，将照片导入电脑使用。

[参考教程1](https://blog.csdn.net/chenmohousuiyue/article/details/78157509)
[参考教程2](https://blog.csdn.net/qq_35971623/article/details/79569477)

建议时长：4 小时

---

## 本周报告

1. OpenCV 学习笔记
3. 相机标定原理解释，并附上实验所得相机内参矩阵与畸变系数的参数文件
4. 单目测距程序实现思路与程序代码等